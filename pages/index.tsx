import Head from "next/head";
import PostList from "@components/PostList";
import { set, ref, child, get } from "firebase/database";
import { db } from "../firebase";

function writeUserData(userId: string, name: string, email: string) {
	set(ref(db, "users/" + userId), {
		username: name,
		email: email,
	});
}

function getUserById(userId: string) {
	const dbRef = ref(db);
	get(child(dbRef, `users/${userId}`))
		.then((snapshot) => {
			if (snapshot.exists()) {
				console.log(snapshot.val());
			} else {
				console.log("No data available");
			}
		})
		.catch((error) => {
			console.error(error);
		});
}

export default function Home() {
	console.log(getUserById("1"));
	return (
		<>
			<Head>
				<title>Social | Home</title>
				<meta
					name="Social home page"
					content="Generated by create next app"
				/>
				<link rel="icon" href="/favicon.ico" />
			</Head>

			<main className="container">
				<PostList />
			</main>

			<footer></footer>
		</>
	);
}
